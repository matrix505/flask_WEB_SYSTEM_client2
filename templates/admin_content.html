{% extends 'base.html' %}

{% block title %}Edit Homepage - MyBlog{% endblock %}

{% block content %}
<div class="dashboard-container">
    <div class="dashboard-sidebar">
        <div class="sidebar-header">
            <i class="fas fa-user-shield fa-3x"></i>
            <h3>{{ session.get('firstname') }}</h3>
            <span class="badge badge-admin">Admin</span>
        </div>
        
        <nav class="sidebar-nav">
            <a href="{{ url_for('admin_dashboard') }}" class="nav-item">
                <i class="fas fa-home"></i> Dashboard
            </a>
            <a href="{{ url_for('admin_users') }}" class="nav-item">
                <i class="fas fa-users"></i> Manage Users
            </a>
            <a href="{{ url_for('admin_add_user') }}" class="nav-item">
                <i class="fas fa-user-plus"></i> Add User
            </a>
            <a href="{{ url_for('admin_content') }}" class="nav-item active">
                <i class="fas fa-edit"></i> Edit Homepage
            </a>
            <a href="{{ url_for('profile') }}" class="nav-item">
                <i class="fas fa-user-edit"></i> My Profile
            </a>
            <a href="{{ url_for('logout') }}" class="nav-item" data-confirm="Are you sure you want to logout?" data-title="Logout">
                <i class="fas fa-sign-out-alt"></i> Logout
            </a>
        </nav>
    </div>
    
    <div class="dashboard-main">
        <div class="dashboard-header">
            <h1><i class="fas fa-edit"></i> Edit Homepage Content</h1>
            <p>Update the content displayed on the homepage.</p>
        </div>
        
        <div class="profile-form-container" style="margin-bottom: 20px;">
            <h3 style="margin-bottom: 15px; color: #1a1a1a;"><i class="fas fa-image"></i> Profile Image</h3>
            <form method="POST" action="{{ url_for('admin_upload_profile') }}" enctype="multipart/form-data" class="profile-form" data-confirm="Upload new profile image?" data-title="Update Image">
                <div class="form-group">
                    <label for="profile_image"><i class="fas fa-camera"></i> Select Image (PNG, JPG, JPEG)</label>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <img src="{{ url_for('static', filename='images/profile.png') }}?t={{ now }}" alt="Current Profile" style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 2px solid #ddd;">
                        <input type="file" id="profile_image" name="profile_image" accept="image/png, image/jpeg, image/jpg" style="flex: 1;">
                    </div>
                </div>
                <button type="submit" class="btn btn-primary btn-sm">
                    <i class="fas fa-upload"></i> Upload Image
                </button>
            </form>
        </div>
        
        <div class="profile-form-container">
            <h3 style="margin-bottom: 15px; color: #1a1a1a;"><i class="fas fa-file-alt"></i> Homepage Text Content</h3>
            <form method="POST" action="{{ url_for('admin_content') }}" class="profile-form" data-confirm="Save changes to homepage?" data-title="Update Content">
                <div class="form-group">
                    <label for="site_title"><i class="fas fa-heading"></i> Site Title</label>
                    <input type="text" id="site_title" name="site_title" value="{{ content.get('site_title', '') }}" placeholder="Welcome to my Website!">
                </div>
                
                <div class="form-group">
                    <label for="tagline"><i class="fas fa-quote-left"></i> Quote / Tagline</label>
                    <input type="text" id="tagline" name="tagline" value="{{ content.get('tagline', '') }}" placeholder="Hello! I am a passionate developer.">
                </div>
                
                <div class="form-group">
                    <label for="about_me"><i class="fas fa-info-circle"></i> About Me / Description</label>
                    <textarea id="about_me" name="about_me" rows="4" class="form-textarea" placeholder="Write something about yourself...">{{ content.get('about_me', '') }}</textarea>
                </div>
                
                <div class="form-group">
                    <label for="dream_job_title"><i class="fas fa-rocket"></i> Dream Job Title</label>
                    <input type="text" id="dream_job_title" name="dream_job_title" value="{{ content.get('dream_job_title', '') }}" placeholder="My Dream Job">
                </div>
                
                <div class="form-group">
                    <label for="dream_job_text"><i class="fas fa-briefcase"></i> Dream Job Description</label>
                    <textarea id="dream_job_text" name="dream_job_text" rows="3" class="form-textarea" placeholder="Describe your dream job...">{{ content.get('dream_job_text', '') }}</textarea>
                </div>
                
                <div class="form-buttons">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Save Changes
                    </button>
                    <a href="{{ url_for('index') }}" class="btn btn-secondary" target="_blank">
                        <i class="fas fa-eye"></i> Preview Homepage
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
